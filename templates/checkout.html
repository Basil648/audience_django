{% extends 'base.html'%}
{%block content %}
<form method="POST" action="{% url 'process_payment' %}">
  {% csrf_token %}

  <h2 class="h3 mb-3 text-black">Billing Details</h2>
  <div class="p-3 p-lg-5 border">

    <div class="form-group row">
      <div class="col-md-6">
        <label for="c_fname" class="text-black">First Name <span class="text-danger">*</span></label>
        <input type="text" class="form-control" id="c_fname" name="first_name" required>
      </div>
      <div class="col-md-6">
        <label for="c_lname" class="text-black">Last Name <span class="text-danger">*</span></label>
        <input type="text" class="form-control" id="c_lname" name="last_name" required>
      </div>
    </div>

    <div class="form-group">
      <label for="c_address" class="text-black">Address <span class="text-danger">*</span></label>
      <input type="text" class="form-control" id="c_address" name="address" required>
    </div>

    <div class="form-group">
      <label for="c_state_country" class="text-black">State / Country <span class="text-danger">*</span></label>
      <input type="text" class="form-control" id="c_state_country" name="state_country" required>
    </div>

    <div class="form-group">
      <label for="c_postal_zip" class="text-black">Postal / Zip <span class="text-danger">*</span></label>
      <input type="text" class="form-control" id="c_postal_zip" name="postal_zip" required>
    </div>

    <div class="form-group">
      <label for="c_email_address" class="text-black">Email Address <span class="text-danger">*</span></label>
      <input type="email" class="form-control" id="c_email_address" name="email_address" required>
    </div>

    <div class="form-group">
      <label for="c_phone" class="text-black">Phone <span class="text-danger">*</span></label>
      <input type="text" class="form-control" id="c_phone" name="phone" required>
    </div>

     <h3 class="mb-3">Cart Items:</h3>
    <ul class="list-group mb-4">
      {% for item in cart_items %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            <strong>{{ item.product.name }}</strong><br>
            <small>{{ item.quantity }} x ${{ item.product.discounted_price }}</small>
          </div>
          <span class="badge bg-primary rounded-pill">${{ item.total_price }}</span>
        </li>
      {% empty %}
        <li class="list-group-item">Your cart is empty.</li>
      {% endfor %}
    </ul>
    
    <div class="mb-4">
      <h5 class="text-end">Cart Total: <span class="text-success">${{ cart_total }}</span></h5>
    </div>
    
    <h2 class="h4 mb-3 text-black">Select Payment Method</h2>
    <div class="form-group">
      <div class="form-check">
        <input class="form-check-input" type="radio" name="payment_method" id="paymentCard" value="card">
        <label class="form-check-label" for="paymentCard">Card</label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="payment_method" id="paymentCOD" value="cod">
        <label class="form-check-label" for="paymentCOD">Cash on Delivery (COD)</label>
      </div>
    </div>
    
    
   

    <div class="form-group">
      <button type="submit" class="btn btn-primary btn-lg py-3 btn-block">Proceed</button>
    </div>

  </div>
</form>
 
{%endblock%}